install.packages('rlang')
install.packages('Rtools')
install.packages('rlang')
install.packages('rlang')
install.packages('rlang')
install.packages('Rcpp')
install.packages('Rcpp')
update.packages('Rcpp')
library(Rcpp)
install.packages('dplyr')
setwd("D:/synthetic-sweden")
library(dplyr)
library(ggplot2)
library(glue)
library(ggpubr)
options(scipen=10000)
# Get the results
df.n <- read.csv('results/N_KL_relationship.csv', encoding = "latin1")
df.n <- df.n %>%
mutate(region=recode(region, "sweden"="Sweden",
"netherlands"="The Netherlands",
"saopaulo"="S達o Paulo, Brazil")) %>%
filter(nmax != 100000)
names(df.n)[names(df.n) == 'region'] <- 'Region'
df.nind <- read.csv('results/Nindi_KL_relationship.csv')
df.nind <- df.nind %>%
mutate(region=recode(region, "sweden"="Sweden",
"netherlands"="The Netherlands",
"saopaulo"="S達o Paulo, Brazil"))
names(df.nind)[names(df.nind) == 'region'] <- 'Region'
setwd("D:/individual-mobility-model")
library(dplyr)
library(ggplot2)
library(glue)
library(ggpubr)
options(scipen=10000)
# Get the results
df.n <- read.csv('results/N_KL_relationship.csv', encoding = "latin1")
df.n <- df.n %>%
mutate(region=recode(region, "sweden"="Sweden",
"netherlands"="The Netherlands",
"saopaulo"="S達o Paulo, Brazil")) %>%
filter(nmax != 100000)
names(df.n)[names(df.n) == 'region'] <- 'Region'
df.nind <- read.csv('results/Nindi_KL_relationship.csv')
df.nind <- df.nind %>%
mutate(region=recode(region, "sweden"="Sweden",
"netherlands"="The Netherlands",
"saopaulo"="S達o Paulo, Brazil"))
names(df.nind)[names(df.nind) == 'region'] <- 'Region'
g1 <- ggplot(df.n, aes(x=nmax, y=kl, shape=Region)) + theme_minimal() +
geom_line(color='gray65', size = 0.3) +
geom_point(color='gray45', size = 1.5) +
theme(legend.position = c(0.7, 0.7)) +
labs(y = 'KL divergence', x="Maximum no. of traces per individual")
g2 <- ggplot(df.nind, aes(x=n_total, y=kl, shape=Region)) + theme_minimal() +
geom_line(color='gray65', size = 0.3) +
geom_point(color='gray45', size = 1.5) +
theme(legend.position = c(0.7, 0.7)) +
labs(y = 'KL divergence', x="No. of traces")
G <- ggarrange(g2, g1, ncol = 2, nrow = 1, labels = c('(a)', '(b)'), widths = c(1, 1), common.legend = T, legend = 'bottom')
ggsave(filename = "figures/data_length_impact.png", plot=G,
width = 6.5, height = 3.3, unit = "in", dpi = 300)
g2 <- ggplot(df.nind, aes(x=n_total, y=kl, shape=Region)) + theme_minimal() +
geom_line(color='gray65', size = 0.3) +
geom_point(color='gray45', size = 1.5) +
theme(legend.position = c(0.7, 0.7)) +
labs(y = 'KL divergence', x="No. of traces (thousand)")
G <- ggarrange(g2, g1, ncol = 2, nrow = 1, labels = c('(a)', '(b)'), widths = c(1, 1), common.legend = T, legend = 'bottom')
ggsave(filename = "figures/data_length_impact.png", plot=G,
width = 6.5, height = 3.3, unit = "in", dpi = 300)
g2 <- ggplot(df.nind, aes(x=n_total/1000, y=kl, shape=Region)) + theme_minimal() +
geom_line(color='gray65', size = 0.3) +
geom_point(color='gray45', size = 1.5) +
theme(legend.position = c(0.7, 0.7)) +
labs(y = 'KL divergence', x="No. of traces (thousand)")
G <- ggarrange(g2, g1, ncol = 2, nrow = 1, labels = c('(a)', '(b)'), widths = c(1, 1), common.legend = T, legend = 'bottom')
ggsave(filename = "figures/data_length_impact.png", plot=G,
width = 6.5, height = 3.3, unit = "in", dpi = 300)
g2 <- ggplot(df.nind, aes(x=n_total/1000, y=kl, shape=Region)) + theme_minimal() +
geom_line(color='gray65', size = 0.3) +
geom_point(color='gray45', size = 1.5) +
theme(legend.position = c(0.7, 0.7)) +
labs(y = 'KL divergence', x=paste("No. of traces", TeX("$^1000$")))
G <- ggarrange(g2, g1, ncol = 2, nrow = 1, labels = c('(a)', '(b)'), widths = c(1, 1), common.legend = T, legend = 'bottom')
library(latex2exp)
g2 <- ggplot(df.nind, aes(x=n_total/1000, y=kl, shape=Region)) + theme_minimal() +
geom_line(color='gray65', size = 0.3) +
geom_point(color='gray45', size = 1.5) +
theme(legend.position = c(0.7, 0.7)) +
labs(y = 'KL divergence', x=paste("No. of traces", TeX("$^1000$")))
G <- ggarrange(g2, g1, ncol = 2, nrow = 1, labels = c('(a)', '(b)'), widths = c(1, 1), common.legend = T, legend = 'bottom')
ggsave(filename = "figures/data_length_impact.png", plot=G,
width = 6.5, height = 3.3, unit = "in", dpi = 300)
g2 <- ggplot(df.nind, aes(x=n_total/1000, y=kl, shape=Region)) + theme_minimal() +
geom_line(color='gray65', size = 0.3) +
geom_point(color='gray45', size = 1.5) +
theme(legend.position = c(0.7, 0.7)) +
labs(y = 'KL divergence', x=TeX("No. of traces ($^1000$)"))
G <- ggarrange(g2, g1, ncol = 2, nrow = 1, labels = c('(a)', '(b)'), widths = c(1, 1), common.legend = T, legend = 'bottom')
ggsave(filename = "figures/data_length_impact.png", plot=G,
width = 6.5, height = 3.3, unit = "in", dpi = 300)
g2 <- ggplot(df.nind, aes(x=n_total/1000, y=kl, shape=Region)) + theme_minimal() +
geom_line(color='gray65', size = 0.3) +
geom_point(color='gray45', size = 1.5) +
theme(legend.position = c(0.7, 0.7)) +
labs(y = 'KL divergence', x=TeX("No. of traces ($10^3$)"))
G <- ggarrange(g2, g1, ncol = 2, nrow = 1, labels = c('(a)', '(b)'), widths = c(1, 1), common.legend = T, legend = 'bottom')
ggsave(filename = "figures/data_length_impact.png", plot=G,
width = 6.5, height = 3.3, unit = "in", dpi = 300)
